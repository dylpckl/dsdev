import "./globals.css";
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import Link from "next/link";
import getPostMetadata from "../../components/getPostMetadata";
import PostPreview from "../../components/PostPreview";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Dylan Smith",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const postMetadata = getPostMetadata();
  const postPreviews = postMetadata.map((post) => (
    <PostPreview
      key={post.slug}
      {...post}
    />
  ));

  const header = (
    <header className="w-full col-span-3 row-span-1 font-mono mb-6 flex flex-col">
      <Link href="/">
        <div className="flex">
          <span>dylansmith</span>
          <span className="text-gray-400">.dev</span>
        </div>
      </Link>

      <span className=" text-sm font-mono">
        building stuff for the web since 2002
      </span>
    </header>
  );

  const footer = (
    <footer className="bg-gray-300 text-black col-span-3 row-start-3 mt-4">
      Designed in Figma and written in VS Code. Built with Next.js and styled
      with TailwindCSS, and deployed to Vercel.
    </footer>
  );

  const nav = (
    <nav className="bg-yellow-300 col-span-1 row-start-2 flex flex-col gap-4 min-w-[25%] text-black">
      {postPreviews}
    </nav>
  );

  const connect = (
    <div className="bg-teal-300 flex text-black flex-col h-fit">
      <span>ðŸ‘€</span>
      <a href="https://dribbble.com/dylpckl">dribbble</a>
      <a href="https://github.com/dylpckl">github</a>
      <a href="https://www.linkedin.com/in/dylanjbsmith/">linkedin</a>
    </div>
  );

  return (
    <html
      lang="en"
      className={`${inter.className} mx-48 py-12 overflow-hidden`}
    >
      {/* <body className="flex flex-col justify-between">
        {header}
        <div className="flex flex-col ">
          <div className="flex h-[80vh] ">
            {nav}
            {children}
            {connect}
          </div>
        </div>
        {footer}
      </body> */}
      <body className="grid grid-cols-[1fr,4fr,1fr] auto-rows-min h-screen">
        <header className="col-span-3 font-mono mb-6 flex flex-col h-fit">
          <Link href="/">
            <div className="flex">
              <span>dylansmith</span>
              <span className="text-gray-400">.dev</span>
            </div>
          </Link>

          <span className=" text-sm font-mono">
            building stuff for the web since 2002
          </span>
        </header>

        <nav className="bg-yellow-300 col-span-1 row-start-2 flex flex-col gap-4 min-w-[25%] text-black">
          {postPreviews}
        </nav>

        {children}

        <div className="bg-teal-300 flex text-black flex-col w-fit h-fit">
          <span>ðŸ‘€</span>
          <a href="https://dribbble.com/dylpckl">dribbble</a>
          <a href="https://github.com/dylpckl">github</a>
          <a href="https://www.linkedin.com/in/dylanjbsmith/">linkedin</a>
        </div>

        <footer className="bg-gray-300 text-black col-span-3 h-fit self-end mt-4">
          Designed in Figma and written in VS Code. Built with Next.js and
          styled with TailwindCSS, and deployed to Vercel.
        </footer>
      </body>
    </html>
  );
}
